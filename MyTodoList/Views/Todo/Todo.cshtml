@model IEnumerable<MyTodoList.Data.Models.Job>

@{
    ViewData["Title"] = "Todo";
}

<h2>Список завдань</h2>
<table class="table">

    <thead>
    <tr>
        <th>Завдання</th>
        <th>Категорія</th>
        <th>Прогрес</th>
    </tr>
    </thead>
    <tbody>
    @foreach (var job in Model.OrderBy(j => j.IsDone))
    {
        <tr class="jobs-line">
            <td class="name-cell" style="width: 70vw">@job.Name</td>
            <td class="category-cell text-center" style="width: 5vw">@job.Category.Name</td>
            <td class="buttons-cell d-flex justify-content-between align-items-center" style="width: 10vw">
                @if (!job.IsDone)
                {
                    <form asp-action="ChangeProgress">
                        <input type="hidden" name="id" value="@job.Id"/>
                        <button type="submit" class="btn btn-success">Завершити</button>
                    </form>
                }
                else
                {
                    <button type="submit" class="btn btn-outline-dark" disabled>
                        <i>Завершeно</i>
                    </button>
                    <form asp-action="Delete" method="post">
                        <input type="hidden" name="id" value="@job.Id"/>
                        <button type="submit">Delete</button>
                    </form>
                }

            </td>
        </tr>
    }
    </tbody>
</table>